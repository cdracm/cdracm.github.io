---
layout: post
title: "Are Zombies Punished for Necromancy?"
hidden: true
comments: true
---

Some time ago I was tasked with the feature "make highlighting persistent on disk".
It should store the state of the editor highlighting to disk, and restore it afteward for quicker user experience.

Highlighting information consists of a bunch of highlighters, so I made a few of obvious classes.
- ğŸ§Ÿ`HighlightingZombie`ğŸ§Ÿ - a serializable form of the HighlightingInfo object, and
- ğŸ§Ÿ`Graveyard`ğŸ§Ÿ - a class managing these, with methods
  -  `buryZombie()`, which saves the zombie highlighting to disk, and
  -  `exhumeZombie()`, which restores the zombie from the disk and turn it to the HighlightingInfo

So far so good.
Then users tried the feature, liked it, and the enhacement requests started pouring in.
There were a quite bit of absolutely necessary improvements to be done, across several products, so a number of developers improved this design quite a bit.
After a while, this is what we ended up with.

- ğŸ§Ÿ`Zombie`ğŸ§Ÿ: and interface for all serializable highlighters.
- ğŸ§Ÿ`Necromancer`ğŸ§Ÿ: interface for managing `Zombie`s
- ğŸ§Ÿ`Necropolis`ğŸ§Ÿ: service managing all `Necromancer`s
- ğŸ§Ÿ`NecropolisDestroyer`ğŸ§Ÿ: service managing `Necropolis` life cycle

And a few of class hierarchies.

![](/assets/zombie/zombie.png)

![](/assets/zombie/necromancer.png)

![](/assets/zombie/Necromancy.png)

![](/assets/zombie/NecromancerAwaker.png)

These classes have a lot of methods, including:

- ğŸ§Ÿ`fun turnIntoZombie(recipe: TurningRecipe)`ğŸ§Ÿ
- ğŸ§Ÿ`shouldBuryZombie()`ğŸ§Ÿ
- ğŸ§Ÿ`exhumeZombie()`ğŸ§Ÿ
- ğŸ§Ÿ`spawnZombie()`ğŸ§Ÿ
- ğŸ§Ÿ`awake()`ğŸ§Ÿ
- ğŸ§Ÿ`enoughMana()`ğŸ§Ÿ
- ğŸ§Ÿ`cleanGravesIfNeeded()`ğŸ§Ÿ
- ğŸ§Ÿ`writeLimb()/readLimb()`ğŸ§Ÿ
- ğŸ§Ÿ`putDownActiveZombiesInFile()`ğŸ§Ÿ
- ğŸ§Ÿ`isZombieFriendly()`ğŸ§Ÿ


Did our little halloween terminology go a bit out of limbs? 

I don't know, but yeah okay, I'm scared.
